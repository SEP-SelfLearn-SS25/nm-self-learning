view KPITotalLearningTime {
  id                        String @unique
  username                  String
  total_time_spent_seconds  Float
}

view KPIDailyLearningTime {
    id                          String @unique
    username                    String
    day                         DateTime
    total_time_spent_seconds    Float
}

view KPIDailyQuizStats {
  id               String @unique
  username         String
  day              DateTime
  total_answers      Int
  correct_answers    Int
  incorrect_answers  Int
  accuracy_percent Float
}

view KPITotalLearningTimeByCourse {
  id                        String @unique
  username                  String
  courseId                  String
  courseTitle               String
  total_time_spent_seconds  Float
}

view KPIAverageCompletionRateByAuthorByCourse {
  id                             String @unique
  author_username                String  
  courseId                       String
  courseTitle                    String
  total_enrollments              Int
  completed_enrollments          Int
  course_completion_rate_percent Float
}

view KPIAverageCompletionRateByAuthor {
  id                                        String @unique
  author_username                           String
  author_average_completion_rate_percent    Float
}

view KPIAverageCompletionRateByAuthorBySubject {
  id                                 String @unique
  author_username                    String
  subjectId                          String
  subjectTitle                       String
  total_courses_of_author_in_subject Int
  total_enrollments                  Int?
  completed_enrollments              Int?
  subject_completion_rate_percent    Float?
}

view KPIDailyLearningTimeByCourse {
  id                      String @unique
  username                String
  courseId                String
  courseTitle             String?
  day                     DateTime
  total_time_spent_seconds Float
}

view KPILearningStreak {
  id              String @unique
  username        String
  longest_streak  Int
  current_streak  Int
}